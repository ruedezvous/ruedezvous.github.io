/*
 * custom.css
 * 用于 Hexo clean-blog 主题的自定义排版 - V3 (最终版)
 */

/* ====================
 * 1. 全局字体定义 (Font Definitions)
 * ==================== */

/*
 * 导入自定义字体
 * 假设您已将 Noto Serif SC.ttf 放在 theme/source/fonts/ 目录下
 */
@font-face {
    font-family: 'Noto Serif SC';
    src: url('../fonts/Noto Serif SC.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

/* 定义CSS变量 */
:root {
    /* 字体设置 */
    --chinese-font: 'Noto Serif SC', serif;
    --english-font: serif; 

    /* 颜色设置 */
    --color-white: #ffffff;
    --color-black-gray: #333333;

    /* 正文排版 */
    --body-font-size: 16px; /* **字号 16px** */
    --body-line-height: 1.9;
    --body-paragraph-margin-bottom: 1.5em; /* 段后距 */
    --body-text-indent: 2em; /* **首行缩进 2em** */
}

/* 应用正文字体：中文为 Noto Serif SC，英文为 Serif */
body {
    /* 默认给 body 应用目标字体，后续排除标题和导航栏 */
    font-family: var(--chinese-font), var(--english-font);
}

/* 确保正文中的主要元素使用目标字体 */
p, li, blockquote {
    font-family: var(--chinese-font), var(--english-font);
}

/* ====================
 * 2. 首页 (Index/List Pages) 和导航栏样式
 * ==================== */

/* **重置导航栏和头部标题字体**：使用主题默认的 Sans-serif 字体栈 */
.navbar a,
header.masthead h1,
header.masthead .subheading,
.post-preview .post-title,
.post-preview .post-subtitle {
    /* 覆盖掉目标字体，强制使用系统默认/主题默认字体 */
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol" !important;
}

/* 颜色设置 */
.navbar a {
    color: var(--color-white) !important;
}

header.masthead h1,
header.masthead .subheading {
    color: var(--color-white) !important;
}

.post-preview .post-title,
.post-preview .post-subtitle {
    color: var(--color-black-gray) !important;
}


/* ====================
 * 3. 文章页 (Post Page) 正文排版
 * ==================== */

.container.post-container .post-content,
.container.post-container .post-content p {
    /* 正文排版 */
    text-align: justify; /* 两端对齐 */
    font-size: var(--body-font-size); /* 字号 16px */
    line-height: var(--body-line-height); /* 行间距 1.9 */
    margin-bottom: var(--body-paragraph-margin-bottom); /* 段后距 */
}

/* **首行缩进** - 仅针对段落（p）元素 */
.container.post-container .post-content p {
    text-indent: var(--body-text-indent); /* **首行缩进** */
}

/* 修正正文排版对列表、引用等的影响 */
/* 确保列表、代码块、引用等不需要缩进 */
.container.post-container .post-content ul p,
.container.post-container .post-content ol p,
.container.post-container .post-content blockquote p,
.container.post-container .post-content pre p {
    text-indent: 0;
}
.container.post-container .post-content ul,
.container.post-container .post-content ol,
.container.post-container .post-content blockquote {
    text-align: left;
}


/* ====================
 * 4. 响应式布局 (Responsive/Mobile Layout)
 * ==================== */

/* 确保网站在不同设备上有边距，避免贴边 */
@media (max-width: 768px) {
    /* **手机端保留目标字体**：无需额外设置，因为 body 已经默认应用了目标字体 */

    /* 增加容器的内边距，防止贴边 */
    .container {
        padding-left: 15px;
        padding-right: 15px;
    }

    /* 在手机上，适当减小行间距和段后距，以提高阅读体验 */
    :root {
        --body-line-height: 1.7; /* 手机上行间距略小 */
        --body-paragraph-margin-bottom: 1.2em;
    }
}
